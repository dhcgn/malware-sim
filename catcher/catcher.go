package catcher

import (
	"fmt"

	"github.com/dhcgn/malware-sim/targetobject"
)

type Catcher struct {
	TargetObjectChan chan *targetobject.TargetObject
}

func NewCatcher() *Catcher {
	return &Catcher{
		TargetObjectChan: make(chan *targetobject.TargetObject),
	}
}

func (c *Catcher) Catching() {
	for {
		select {
		case to := <-c.TargetObjectChan:
			fmt.Println(to)
		}
	}
}

func (*Catcher) GenerateReport() {
}

func (c *Catcher) Add(to *targetobject.TargetObject) {
	c.TargetObjectChan <- to
}
